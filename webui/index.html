<!DOCTYPE html>
<html>

<!-- Use a vendored bootstrap â˜º -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>MCA66 UI</title>

    <!-- Bootstrap CSS v3.3.5 https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css -->
    <link rel="stylesheet" href="./bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="ui.css">

</head>

<!-- Body begin -->
<body>

<!-- Header menu for changing rooms -->
<div class="menu">

    <header>
        <h3>MCA66 Controller</h3>
    </header>

    <ul>
        <li><a href="index.html" class="active">Family Room</a></li>
        <li><a href="">Dining Room</a></li>
        <li><a href="">Loft</a></li>
        <li><a href="">Conservatory</a></li>
        <li><a href="">Garage</a></li>
        <li><a href="">Basement</a></li>
    </ul>

</div>

<!-- Demo block -->
<div class="container">
    <div class="row">

        <div class="col-xs-4 col-md-push-8">
        	On laptop and desktop screens this text will go to the right and the image will go to the left, changing places.
        </div>

        <div class="col-xs-8 col-md-pull-4">
        	<img src="city.jpg" class="img-responsive">
        </div>

    </div>
</div>

<!-- Debug container for websockets -->
<div class="container" id="container">

	<div class="col-sm-4 col-md-push-4">
	<!-- <input type="button" id="ping" name="ping" value="Ping" onclick="ping()"/> -->

	<button type="button" id="sendBtn">
		Send
	</button>
	</div>

</div>


</body>
</html>


<!-- Vendor JQuery 1.10.2 -->
<script type="text/javascript" src="./jquery/jquery.min.js"></script>

<!-- Begin script block -->
<script type="text/javascript">
	$(function () {
            var ws;

            if (window.WebSocket === undefined) {
                $("#container").append("Your browser does not support WebSockets");
                return;
            } else {
                ws = initWS();
            }

            function initWS() {
                var socket = new WebSocket("ws://localhost:8665/socket");
                var container = $("#container");
                
                socket.onopen = function() {
                    container.append("<p>Socket is open</p>");
                };

                socket.onmessage = function (e) {
                    container.append("<p> Got:" + e.data + "</p>");
                };

                socket.onclose = function () {
                    container.append("<p>Socket closed</p>");
                };

                return socket;
            }

            $("#sendBtn").click(function (e) {
                e.preventDefault();
                ws.send(JSON.stringify({ Num: parseInt($("#numberfield").val()) }));
            });
        });

</script>
